{% extends "base.html" %}

{% block title %}Profiles - S4LT{% endblock %}

{% block content %}
<div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold">Profiles</h1>
</div>

<!-- Vanilla Mode -->
<div class="bg-gray-800 rounded-lg p-6 border border-gray-700 mb-6">
    <div class="flex justify-between items-center">
        <div>
            <h2 class="text-xl font-bold">Vanilla Mode</h2>
            <p class="text-gray-400 text-sm mt-1">
                {% if is_vanilla %}
                All mods are currently disabled. Exit to restore your previous setup.
                {% else %}
                Temporarily disable all mods to test without CC.
                {% endif %}
            </p>
        </div>
        <form action="/profiles/vanilla/toggle" method="post">
            <button type="submit" class="px-6 py-3 rounded font-medium
                {% if is_vanilla %}bg-green-600 hover:bg-green-700{% else %}bg-yellow-600 hover:bg-yellow-700{% endif %}">
                {% if is_vanilla %}Exit Vanilla Mode{% else %}Enter Vanilla Mode{% endif %}
            </button>
        </form>
    </div>
</div>

<!-- Create Profile -->
<div class="bg-gray-800 rounded-lg p-6 border border-gray-700 mb-6">
    <h2 class="text-xl font-bold mb-4">Create Profile</h2>
    <form action="/profiles/create" method="post" class="flex gap-4">
        <input
            type="text"
            name="name"
            placeholder="Profile name..."
            required
            class="flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-blue-500">
        <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded font-medium">
            Save Current State
        </button>
    </form>
</div>

<!-- Profiles List -->
<div class="bg-gray-800 rounded-lg border border-gray-700 overflow-hidden">
    <table class="w-full">
        <thead class="bg-gray-700">
            <tr>
                <th class="px-4 py-3 text-left">Name</th>
                <th class="px-4 py-3 text-left">Created</th>
                <th class="px-4 py-3 text-right">Actions</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-gray-700">
            {% for profile in profiles %}
            <tr class="hover:bg-gray-750">
                <td class="px-4 py-3 font-medium">{{ profile.name }}</td>
                <td class="px-4 py-3 text-gray-400">{{ profile.created }}</td>
                <td class="px-4 py-3 text-right space-x-2">
                    <form action="/profiles/{{ profile.name }}/load" method="post" class="inline">
                        <button type="submit" class="px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm">
                            Load
                        </button>
                    </form>
                    <form action="/profiles/{{ profile.name }}/delete" method="post" class="inline"
                          onsubmit="return confirm('Delete profile {{ profile.name }}?')">
                        <button type="submit" class="px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm">
                            Delete
                        </button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    {% if not profiles %}
    <div class="text-center text-gray-500 py-8">
        <p>No profiles saved yet.</p>
        <p class="text-sm mt-2">Create a profile to save your current mod configuration.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
